# Makes new windows immediately accept input and fixes other X related issues
windowrule {
	name = Unity
	match:class = Unity
	allows_input = true
}

################
### TOOLTIPS ###
################

# Tooltips Stealing Focus
# Discussions: https://discussions.unity.com/t/unset-tooltip-titles/1522964
# Support: https://unity3d.atlassian.net/servicedesk/customer/portal/2/IN-85635
# Issue Tracker: https://issuetracker.unity3d.com/issues/linux-tooltips-have-an-unset-title-which-causes-the-inability-to-modify-tooltip-behavior-on-window-managers
# Thanks Unity devs <3
windowrule {
	name = Tooltips
	match:class = Unity
	match:initial_title = UnityTooltipWindow

	allows_input = false
	no_focus = true
	no_initial_focus = true
	focus_on_activate = false
}

# Fix for https://github.com/yasirkula/UnityAssetUsageDetector tooltips
windowrule {
	name = UnityAssetUsageDetectorTooltips
	match:class = Unity
	match:title = AssetUsageDetectorNamespace.SearchResultTooltip
	
	allows_input = false
	min_size = 25 25
	no_focus = true
}

###############
### WINDOWS ###
###############

# Font Asset Creator
windowrule = match:class Unity, match:title Font Asset Creator, opaque true

# UI Builder
windowrule = match:class Unity, match:title UI Builder, opaque true

#################
### SELECTORS ###
#################

$selectorPos = (cursor_x-(window_w*0.5)) (cursor_y-(window_h*0.05))

# Selection Dropdowns
windowrule = match:class Unity, match:title Select.*, move $selectorPos

# Add Component
windowrule = match:class Unity, match:title UnityEditor.AddComponent.AddComponentWindow, move $selectorPos

# Volume Override
windowrule = match:class Unity, match:title UnityEditor.Rendering.FilterWindow.*, move $selectorPos

# Icon Selector
windowrule = match:class Unity, match:title UnityEditor.IconSelector, move $selectorPos

# Material Shader Dropdown
windowrule = match:class Unity, match:title UnityEditor.IMGUI.Controls.AdvancedDropdownWindow, move $selectorPos

# Shader Graph Add Node
windowrule = match:class Unity, match:title UnityEditor.Searcher.SearcherWindow, move $selectorPos

# VFX Graph Add Node
windowrule = match:class Unity, match:title UnityEditor.VFX.UI.VFXFilterWindow, move $selectorPos

# Tilemap
windowrule = match:class Unity, match:title Tile Palette, move $selectorPos

# Rendering Selection
windowrule = match:class Unity, match:title UnityEditor.Rendering.FilterWindow, move $selectorPos

# Animation Conditions
windowrule = match:class Unity, match:title UnityEditor.IMGUI.Controls.AdvancedDropdownWindow, move $selectorPos

# Add Animation Property
windowrule = match:class Unity, match:title UnityEditorInternal.AddCurvesPopup, move $selectorPos

# Input Dropdown
windowrule = match:class Unity, match:title UnityEngine.InputSystem.Editor.AdvancedDropdownWindow, move $selectorPos

# Package Manager Dropdown
windowrule = match:class Unity, match:title UnityEditor.PackageManager.UI.Internal.DropdownContainer, size 500 50
windowrule = match:class Unity, match:title UnityEditor.PackageManager.UI.Internal.DropdownContainer, move (cursor_x-(window_w*0.95)) (cursor_y-(window_h*0.7))

# Save Layout
windowrule = match:class Unity, match:title Save Layout, move (cursor_x-(window_w*0.5)) (cursor_y-(window_h*0.8))

###############
### PICKERS ###
###############

# Color Picker
windowrule {
	name = ColorPicker
	match:class = Unity
	match:title = Color

	opaque = true
	move = (cursor_x-(window_w*0.5)) (cursor_y-150)
}

# HDR Color Picker
windowrule {
	name = HDRColorPicker
	match:class = Unity
	match:title = HDR Color

	opaque = true
	move = (cursor_x-(window_w*0.5)) (cursor_y-150)
}

# Gradient
windowrule {
	name = Gradient
	match:class = Unity
	match:title = Gradient Editor.*

	opaque = true
	move = (cursor_x-(window_w*0.5)) (cursor_y-100)
}

# HDR Gradient
windowrule {
	name = HDRGradient
	match:class = Unity
	match:title = HDR Gradient Editor.*

	opaque = true
	move = (cursor_x-(window_w*0.5)) (cursor_y-100)
}

# Animation Curve
windowrule = match:class Unity, match:title Curve.*, move (cursor_x-(window_w*0.5)) (cursor_y-(window_h*0.5))
